{"version":3,"file":"3dily.js","sources":["../build/esm/constants.js","../build/esm/scene/Controller.js","../build/esm/scene/Events.js","../build/esm/scene/index.js","../build/esm/index.js"],"sourcesContent":["export var API_URL = 'https://dev.api.3dily.com/scene/';\n","var clamp = function (number, min, max) {\n    return Math.min(Math.max(number, min), max);\n};\nvar Controller = /** @class */ (function () {\n    function Controller(element, framesCount, onChangeFrame, onZoom) {\n        this.pointerPosition = { x: 0, y: 0 };\n        this.pointerIsDown = false;\n        this.moved = false;\n        this.activeIndex = 0;\n        this.zoomIsEnable = false;\n        this.zoomScale = 4.3;\n        this.translate = { x: 0, y: 0 };\n        this.element = element;\n        this.framesCount = framesCount;\n        this.onChangeFrame = onChangeFrame;\n        this.onZoom = onZoom;\n        this.init();\n    }\n    Controller.prototype.init = function () {\n        var _this = this;\n        this.element.onpointerdown = function (e) {\n            _this.pointerPosition = { x: e.clientX, y: e.clientY };\n            _this.pointerIsDown = true;\n            _this.moved = false;\n        };\n        this.element.onpointermove = function (e) {\n            if (!_this.pointerIsDown || _this.zoomIsEnable)\n                return;\n            var deltaX = _this.pointerPosition.x - e.clientX;\n            if (Math.abs(deltaX) < 3)\n                return;\n            var index = deltaX < 0 ? _this.activeIndex - 1 : _this.activeIndex + 1;\n            _this.activeIndex =\n                index > _this.framesCount - 1\n                    ? 0\n                    : index < 0\n                        ? _this.framesCount - 1\n                        : index;\n            _this.moved = true;\n            _this.onChangeFrame(_this.activeIndex);\n            _this.pointerPosition = { x: e.clientX, y: e.clientY };\n        };\n        this.element.onclick = function (e) {\n            if (!_this.moved && !_this.zoomIsEnable) {\n                _this.zoomIsEnable = true;\n                _this.translate = _this.getTranslate(e.clientX, e.clientY);\n                _this.onZoom(\"scale(\".concat(_this.zoomScale, \") translate(\").concat(_this.translate.x, \"px, \").concat(_this.translate.y, \"px)\"));\n            }\n            else if (_this.zoomIsEnable) {\n                _this.zoomIsEnable = false;\n                _this.onZoom('unset');\n            }\n        };\n        this.element.onpointerup = function () {\n            _this.pointerIsDown = false;\n        };\n        this.element.onmousemove = function (e) {\n            if (!_this.zoomIsEnable)\n                return;\n            var translate = _this.getTranslate(e.clientX, e.clientY);\n            _this.onZoom(\"scale(\".concat(_this.zoomScale, \") translate(\").concat(translate.x, \"px, \").concat(translate.y, \"px)\"));\n        };\n        this.element.ontouchmove = function (e) {\n            if (!_this.zoomIsEnable)\n                return;\n            var widthDelta = (_this.element.clientWidth * (_this.zoomScale - 1)) / (2 * _this.zoomScale);\n            var heightDelta = (_this.element.clientHeight * (_this.zoomScale - 1)) /\n                (2 * _this.zoomScale);\n            var delta = {\n                x: e.touches[0].clientX - _this.pointerPosition.x,\n                y: e.touches[0].clientY - _this.pointerPosition.y,\n            };\n            _this.pointerPosition = {\n                x: e.touches[0].clientX,\n                y: e.touches[0].clientY,\n            };\n            _this.translate = {\n                x: clamp(_this.translate.x + delta.x * 0.4, -widthDelta, widthDelta),\n                y: clamp(_this.translate.y + delta.y * 0.4, -heightDelta, heightDelta),\n            };\n            _this.onZoom(\"scale(\".concat(_this.zoomScale, \") translate(\").concat(_this.translate.x, \"px, \").concat(_this.translate.y, \"px)\"));\n        };\n    };\n    Controller.prototype.getTranslate = function (clientX, clientY) {\n        var localPosition = {\n            x: clamp(clientX -\n                this.element.offsetLeft -\n                parseInt(window.getComputedStyle(this.element).borderWidth.replace('px', '')), 0, this.element.clientWidth),\n            y: clamp(clientY -\n                this.element.offsetTop -\n                parseInt(window.getComputedStyle(this.element).borderWidth.replace('px', '')), 0, this.element.clientHeight),\n        };\n        var widthDelta = (this.element.clientWidth * (this.zoomScale - 1)) / (2 * this.zoomScale);\n        var heightDelta = (this.element.clientHeight * (this.zoomScale - 1)) / (2 * this.zoomScale);\n        return {\n            x: widthDelta * (1 - (2 * localPosition.x) / this.element.clientWidth),\n            y: heightDelta * (1 - (2 * localPosition.y) / this.element.clientHeight),\n        };\n    };\n    return Controller;\n}());\nexport { Controller };\n","var Events = /** @class */ (function () {\n    function Events() {\n        this.handlers = {};\n    }\n    Events.prototype.on = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.handlers[args[0]])\n            this.handlers[args[0]] = [];\n        this.handlers[args[0]].push(args[1]);\n    };\n    Events.prototype.trigger = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.handlers[args[0]])\n            this.handlers[args[0]] = [];\n        for (var _a = 0, _b = this.handlers[args[0]]; _a < _b.length; _a++) {\n            var h = _b[_a];\n            h(args[1]);\n        }\n    };\n    Events.prototype.off = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.handlers[args[0]])\n            this.handlers[args[0]] = [];\n        if (args[1]) {\n            this.handlers[args[0]] = this.handlers[args[0]].filter(function (h) { return h !== args[1]; });\n        }\n        else {\n            this.handlers[args[0]] = [];\n        }\n    };\n    return Events;\n}());\nexport { Events };\n","import { API_URL } from '../constants.js';\nimport { Controller } from './Controller.js';\nimport { Events } from './Events.js';\nvar Scene = /** @class */ (function () {\n    function Scene(opts) {\n        var _this = this;\n        this.activeFrame = 0;\n        this.frameElements = [];\n        this.loading = 0;\n        this.events = new Events();\n        this.zoom = false;\n        this.onChangeFrame = function (i) {\n            _this.frameElements[_this.activeFrame].classList.remove('threedily-frame-active');\n            _this.frameElements[i].classList.add('threedily-frame-active');\n            _this.activeFrame = i;\n        };\n        this.onZoom = function (transform) {\n            _this.frameElements[_this.activeFrame].style.transform = transform;\n            if (transform === 'unset') {\n                _this.zoom = false;\n                _this.frameElements[_this.activeFrame].src = _this.buildURL(_this.activeFrame);\n            }\n            else if (!_this.zoom) {\n                _this.zoom = true;\n                _this.frameElements[_this.activeFrame].src = _this.buildURL(_this.activeFrame, '4k');\n            }\n        };\n        this.onLoading = function (loading) {\n            if (loading === void 0) { loading = _this.loading + 1; }\n            _this.loading = loading;\n            if (_this.loading === _this.data.framesCount) {\n                _this.controller = new Controller(_this.sceneElement, _this.data.framesCount, _this.onChangeFrame, _this.onZoom);\n                setTimeout(function () {\n                    _this.progressbar.remove();\n                }, 1200);\n            }\n            ;\n            _this.progressbar.firstChild.style.width = \"\".concat((_this.loading / _this.data.framesCount) * 100, \"%\");\n        };\n        this.opts = opts;\n        if (this.validateOpts()) {\n            this.init();\n        }\n        else {\n            console.error('opts invalid!');\n        }\n    }\n    Scene.prototype.init = function () {\n        var _this = this;\n        this.container = document.getElementById(this.opts.containerId);\n        if (!this.container) {\n            console.error('Container not found!');\n            return;\n        }\n        this.baseUrl = API_URL + this.opts.panelId + '/' + this.opts.productCode;\n        fetch(\"\".concat(this.baseUrl, \"/data\"))\n            .then(function (res) { return res.json(); })\n            .then(function (data) {\n            _this.data = data;\n            _this.events.trigger('load-data', data);\n            _this.setupScene();\n        });\n    };\n    Scene.prototype.setupScene = function () {\n        var _this = this;\n        this.remove();\n        this.sceneElement = document.createElement('div');\n        this.sceneElement.classList.add('threedily-scene');\n        this.container.appendChild(this.sceneElement);\n        this.loading = 0;\n        if (this.data.framesCount < 1)\n            return;\n        this.createLoading();\n        for (var i = 0; i < this.data.framesCount; i++) {\n            var img = document.createElement('img');\n            img.classList.add('threedily-frame');\n            i === this.activeFrame && img.classList.add('threedily-frame-active');\n            this.sceneElement.appendChild(img);\n            this.frameElements.push(img);\n        }\n        var loadFrames = function (i) {\n            if (i === void 0) { i = 0; }\n            _this.frameElements[i].src = _this.buildURL(i);\n            _this.frameElements[i].onload = function () {\n                i < _this.data.framesCount - 1 && loadFrames(i + 1);\n                _this.onLoading();\n                _this.frameElements[i].onload = null;\n            };\n        };\n        loadFrames();\n    };\n    Scene.prototype.createLoading = function () {\n        var progress = document.createElement('div');\n        progress.classList.add('threedily-linear-progress');\n        var bar = document.createElement('div');\n        progress.appendChild(bar);\n        bar.classList.add('threedily-linear-progress-bar');\n        this.sceneElement.appendChild(progress);\n        this.progressbar = progress;\n    };\n    Scene.prototype.validateOpts = function () {\n        return this.opts.panelId && this.opts.containerId && this.opts.productCode;\n    };\n    Scene.prototype.buildURL = function (frame, quality) {\n        if (quality === void 0) { quality = '2k'; }\n        return \"\".concat(this.baseUrl, \"/image?frame=\").concat(frame).concat(this.opts.shadow === true || typeof this.opts.shadow === 'undefined'\n            ? ''\n            : '&shadow=false', \"&size=\").concat(JSON.stringify({\n            width: quality === '1k' ? 1024 : quality === '2k' ? 1920 : 3840,\n        })).concat(this.opts.variants\n            ? '&variants=' + JSON.stringify(this.opts.variants)\n            : '');\n    };\n    Scene.prototype.remove = function () {\n        this.frameElements = [];\n        this.container.innerHTML = '';\n        if (this.sceneElement) {\n            this.sceneElement.remove();\n        }\n    };\n    Scene.prototype.changeVariants = function (variants) {\n        this.opts.variants = variants;\n        this.setupScene();\n    };\n    Scene.prototype.toggleShadow = function () {\n        this.opts.shadow = !this.opts.shadow;\n        this.setupScene();\n    };\n    Scene.prototype.getData = function () {\n        return this.data;\n    };\n    Scene.prototype.on = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.events).on.apply(_a, args);\n    };\n    Scene.prototype.off = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.events).off.apply(_a, args);\n    };\n    return Scene;\n}());\nexport { Scene };\n","import { Scene } from './scene/index.js';\nfunction Threedily(opts) {\n    var scene = new Scene(opts);\n    return scene;\n}\nexport { Threedily };\n"],"names":[],"mappings":"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"}